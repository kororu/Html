<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="javascript.js"></script>

  <link rel="stylesheet" href="Style.css">
  <script>
$(function (){
$.getJSON('notas.json', function(data){
var tr;
for (var i =0; i < data.length; i++){
tr = $('<tr/>');
var colornota="";
tr.append("<td>"+data[i].paterno+"</td>");
tr.append("<td>"+data[i].materno+"</td>");
tr.append("<td>"+data[i].nombre+"</td>");

var n1 = data[i].nota1;
if(n1>=4){
  colornota="color:#0000FF";
}else{
  colornota="color:#ff0000";
}
tr.append("<td style="+String.fromCharCode(34)+ colornota + String.fromCharCode(34) +">"+ n1+"</td>");
var n2 = data[i].nota2;
if(n2>=4){
  colornota="color:#0000FF";
}else{
  colornota="color:#ff0000";
}
tr.append("<td style="+String.fromCharCode(34)+ colornota + String.fromCharCode(34) +">"+n2+"</td>");
var n3 = data[i].nota3;
if(n3>=4){
  colornota="color:#0000FF";
}else{
  colornota="color:#ff0000";
}
tr.append("<td style="+String.fromCharCode(34)+ colornota + String.fromCharCode(34) +">"+n3+"</td>");
var n4 = data[i].nota4;
if(n4>=4){
  colornota="color:#0000FF";
}else{
  colornota="color:#ff0000";
}
tr.append("<td style="+String.fromCharCode(34)+ colornota + String.fromCharCode(34) +">"+n4+"</td>");

var promedio =(parseFloat(n1)+parseFloat(n2)+parseFloat(n3)+parseFloat(n4))/4;
var prom = promedio.toPrecision(2);
if(prom>=4){
  colornota="color:#0000FF";
}else{
  colornota="color:#ff0000";
}
tr.append("<td style="+String.fromCharCode(34)+ colornota + String.fromCharCode(34) +">" + prom + "</td>");
var  estado =""
var textcolor=""
if(prom>5.5){
estado ="Aprobado";
textcolor="color:#009D21"; //verde
}else if (prom<3.5){
estado="Reprobado";
textcolor="color:#ff0000"; //rojo
}else{
estado="pendiente"
textcolor="color:#DFF80C"; //amarillo
}

tr.append("<td style="+String.fromCharCode(34)+ textcolor + String.fromCharCode(34) +">" + estado + "</td>");

$('table').append(tr);
}

});
});
</script>
  <title>Ariel Ponce</title>
</head>
<header>
  <h1>Evaluacion 2</h1>
</header>
<body>
  <table>
                <thead>
                <tr>
                    <th>Paterno</th>
                    <th>Materno</th>
                    <th>Nombre</th>
                    <th>Nota 1</th>
                    <th>Nota 2</th>
                    <th>Nota 3</th>
                    <th>Nota 4</th>
                    <th>Promedio</th>
                    <th>Estado</th>
                </tr>
            </thead>
            <tbody id="tablita">
            </tbody>
        </table><br><br>

        <form action="/javascript.js">
		  <fieldset>
          <legend>Ingreso Alumno:</legend>
        Apellido Paterno: <input id="pat" type="text" maxlength="50"><br><br>
        Apellido Materno:<input id="mat" type="text" maxlength="50"><br><br>
        Nombre: <input id="nom" type="text" maxlength="50"><br><br>
        Nota 1: <input id="n1" type="number" maxlength="1" max="7" min="0" style="width:35px">
        Nota 2: <input id="n2" type="number" maxlength="1" max="7" min="0" style="width:35px">
        Nota 3: <input id="n3" type="number" maxlength="1" max="7" min="0" style="width:35px">
        Nota 4: <input id="n4" type="number" maxlength="1" max="7" min="0" style="width:35px"><br><br>
        <button id="btn_guardar" onclick="guardar()">Guardar</button>
        <button id="btn_limpiar" onclick="limpiar()">Limpiar</button><br><br>
				  </fieldset>
</form>
</body>
<footer>
  <h3>Ariel Ponce Pincheira</h3>
  <a href="mailto:arielignacio.ponce@gmail.com">arielignacio.ponce@gmail.com</a>
  </footer>
</html>
